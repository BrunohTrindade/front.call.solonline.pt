import{o as _,u as G,p as J,r as n,j as e,s as l,q as c,L as q}from"./index-DUMhbAof.js";import{A as D,T as R,B as i,h as d,C as p,i as O,I as j,L as u,D as g,j as f,f as w,M as V,l as U,n as H,o as x,p as h,q as m,S as $,k as C,r as P}from"./Menu-D2QxTdDQ.js";import{A as F}from"./ArrowBack-Dc0QBD59.js";function ee(){const{createUser:K}=_(),{user:r,logout:b}=G(),{mode:a,toggle:o}=J(),[k,A]=n.useState(""),[N,I]=n.useState(""),[S,M]=n.useState(""),[T,E]=n.useState(!1),[W,B]=n.useState(!1),[L,y]=n.useState(""),[z,t]=n.useState(!1);if(!(r!=null&&r.is_admin))return e.jsxs(e.Fragment,{children:[e.jsx(D,{position:"static",color:"default",enableColorOnDark:!0,sx:{bgcolor:"background.paper",borderBottom:s=>`1px solid ${s.palette.divider}`},children:e.jsxs(R,{sx:{gap:2,minHeight:72},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1,minWidth:0},children:[e.jsx(i,{className:"app-brand","aria-hidden":!0,sx:{width:40,height:40,display:"grid",placeItems:"center",color:"primary.contrastText",bgcolor:"primary.main",borderRadius:1.2},children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[e.jsx("ellipse",{cx:"12",cy:"5",rx:"8",ry:"3",fill:"currentColor"}),e.jsx("path",{d:"M4 5v6c0 1.66 3.58 3 8 3s8-1.34 8-3V5",fill:"currentColor",opacity:".9"}),e.jsx("path",{d:"M4 11v6c0 1.66 3.58 3 8 3s8-1.34 8-3v-6",fill:"currentColor",opacity:".8"})]})}),e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(d,{variant:"h6",sx:{fontWeight:700,lineHeight:1.15},children:"Administra√ß√£o de Usu√°rios"}),e.jsx(d,{variant:"caption",color:"text.secondary",children:"Acesso restrito"})]})]}),e.jsxs(i,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:1.25},children:[e.jsx(p,{size:"small",variant:"filled",icon:e.jsx(i,{sx:{width:8,height:8,bgcolor:"warning.main",borderRadius:"50%"}}),label:"Sem permiss√£o",sx:s=>({bgcolor:l(s.palette.warning.main,.12),color:s.palette.warning.main,"& .MuiChip-icon":{color:s.palette.warning.main},fontWeight:500,borderRadius:1.5})}),e.jsx(O,{title:a==="dark"?"Tema: Escuro (clique para Claro)":"Tema: Claro (clique para Escuro)",children:e.jsx(j,{color:"inherit",onClick:o,"aria-label":"Alternar tema",sx:{borderRadius:2,transition:"all .2s ease","&:hover":{bgcolor:s=>l(s.palette.text.primary,.06),transform:"translateY(-1px)"}},children:a==="dark"?e.jsx(u,{fontSize:"small"}):e.jsx(g,{fontSize:"small"})})}),e.jsx(f,{orientation:"vertical",flexItem:!0,sx:{mx:.5,opacity:.4}}),e.jsx(w,{variant:"outlined",component:c,to:"/movimentacao",children:"Voltar"})]}),e.jsx(i,{sx:{display:{xs:"flex",sm:"none"}},children:e.jsx(j,{"aria-label":"Abrir menu",onClick:()=>t(!0),children:e.jsx(V,{})})})]})}),e.jsx(U,{anchor:"right",open:z,onClose:()=>t(!1),sx:{display:{xs:"block",sm:"none"}},children:e.jsxs(i,{sx:{width:300},role:"presentation",onKeyDown:s=>{s.key==="Escape"&&t(!1)},children:[e.jsxs(i,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(d,{variant:"subtitle1",sx:{fontWeight:700},children:"Menu"}),e.jsx(p,{size:"small",label:"Admin",color:"warning",variant:"outlined"})]}),e.jsx(f,{}),e.jsxs(H,{children:[e.jsxs(x,{onClick:()=>{o()},children:[e.jsx(h,{children:a==="dark"?e.jsx(u,{}):e.jsx(g,{})}),e.jsx(m,{primary:`Tema: ${a==="dark"?"Escuro":"Claro"}`}),e.jsx($,{edge:"end",checked:a==="dark",onChange:o})]}),e.jsxs(x,{component:c,to:"/movimentacao",onClick:()=>t(!1),children:[e.jsx(h,{children:e.jsx(F,{})}),e.jsx(m,{primary:"Movimenta√ß√£o"})]}),r&&e.jsxs(x,{onClick:()=>{t(!1),b()},children:[e.jsx(h,{children:e.jsx(C,{})}),e.jsx(m,{primary:"Sair"})]})]})]})}),e.jsx(i,{sx:{width:"100%",bgcolor:s=>s.palette.mode==="light"?"#f7f9fb":l("#ffffff",.03),py:{xs:2,sm:3},minHeight:"calc(100dvh - 72px)"},children:e.jsx(P,{maxWidth:"xl",sx:{px:{xs:2,sm:3}},children:e.jsx("div",{className:"center-login",children:e.jsxs("div",{className:"card login-card",children:[e.jsx("div",{style:{textAlign:"center"},children:e.jsx("img",{src:q,alt:"Sol Online",style:{height:56,width:"auto"}})}),e.jsx("h2",{className:"card-title",style:{textAlign:"center"},children:"Acesso Negado"}),e.jsx("div",{className:"muted",style:{textAlign:"center"},children:"Voc√™ n√£o tem acesso a esta p√°gina."}),e.jsx("div",{style:{textAlign:"center",marginTop:16},children:e.jsx(c,{className:"link",to:"/movimentacao",children:"Voltar"})})]})})})})]});async function Y(s){s.preventDefault(),y("");try{const v=await K({name:k,email:N,password:S,is_admin:W});y(`Usu√°rio criado: ${v.email}`),A(""),I(""),M(""),B(!1),E(!1)}catch(v){y("Erro: "+v.message)}}return e.jsxs(e.Fragment,{children:[e.jsx(D,{position:"static",color:"default",enableColorOnDark:!0,sx:{bgcolor:"background.paper",borderBottom:s=>`1px solid ${s.palette.divider}`},children:e.jsxs(R,{sx:{gap:2,minHeight:72},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1,minWidth:0},children:[e.jsx(i,{className:"app-brand","aria-hidden":!0,sx:{width:40,height:40,display:"grid",placeItems:"center",color:"primary.contrastText",bgcolor:"primary.main",borderRadius:1.2},children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[e.jsx("ellipse",{cx:"12",cy:"5",rx:"8",ry:"3",fill:"currentColor"}),e.jsx("path",{d:"M4 5v6c0 1.66 3.58 3 8 3s8-1.34 8-3V5",fill:"currentColor",opacity:".9"}),e.jsx("path",{d:"M4 11v6c0 1.66 3.58 3 8 3s8-1.34 8-3v-6",fill:"currentColor",opacity:".8"})]})}),e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(d,{variant:"h6",sx:{fontWeight:700,lineHeight:1.15},children:"Administra√ß√£o de Usu√°rios"}),e.jsx(d,{variant:"caption",color:"text.secondary",children:"Criar novo usu√°rio"})]})]}),e.jsxs(i,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:1.25},children:[e.jsx(p,{size:"small",variant:"filled",icon:e.jsx(i,{sx:{width:8,height:8,bgcolor:"success.main",borderRadius:"50%"}}),label:"Sistema Online",sx:s=>({bgcolor:l(s.palette.success.main,.12),color:s.palette.success.main,"& .MuiChip-icon":{color:s.palette.success.main},fontWeight:500,borderRadius:1.5})}),e.jsx(O,{title:a==="dark"?"Tema: Escuro (clique para Claro)":"Tema: Claro (clique para Escuro)",children:e.jsx(j,{color:"inherit",onClick:o,"aria-label":"Alternar tema",sx:{borderRadius:2,transition:"all .2s ease","&:hover":{bgcolor:s=>l(s.palette.text.primary,.06),transform:"translateY(-1px)"}},children:a==="dark"?e.jsx(u,{fontSize:"small"}):e.jsx(g,{fontSize:"small"})})}),r&&e.jsx(w,{variant:"text",color:"inherit",size:"small",startIcon:e.jsx(C,{}),onClick:b,sx:{fontWeight:700,color:"text.primary","&:hover":{bgcolor:s=>l(s.palette.text.primary,.06)}},children:"Sair"}),e.jsx(f,{orientation:"vertical",flexItem:!0,sx:{mx:.5,opacity:.4}}),e.jsx(w,{variant:"outlined",component:c,to:"/movimentacao",children:"Voltar"})]}),e.jsx(i,{sx:{display:{xs:"flex",sm:"none"}},children:e.jsx(j,{"aria-label":"Abrir menu",onClick:()=>t(!0),children:e.jsx(V,{})})})]})}),e.jsx(U,{anchor:"right",open:z,onClose:()=>t(!1),sx:{display:{xs:"block",sm:"none"}},children:e.jsxs(i,{sx:{width:300},role:"presentation",onKeyDown:s=>{s.key==="Escape"&&t(!1)},children:[e.jsxs(i,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(d,{variant:"subtitle1",sx:{fontWeight:700},children:"Menu"}),e.jsx(p,{size:"small",label:"Admin",color:"warning",variant:"outlined"})]}),e.jsx(f,{}),e.jsxs(H,{children:[e.jsxs(x,{onClick:()=>{o()},children:[e.jsx(h,{children:a==="dark"?e.jsx(u,{}):e.jsx(g,{})}),e.jsx(m,{primary:`Tema: ${a==="dark"?"Escuro":"Claro"}`}),e.jsx($,{edge:"end",checked:a==="dark",onChange:o})]}),e.jsxs(x,{component:c,to:"/movimentacao",onClick:()=>t(!1),children:[e.jsx(h,{children:e.jsx(F,{})}),e.jsx(m,{primary:"Movimenta√ß√£o"})]}),r&&e.jsxs(x,{onClick:()=>{t(!1),b()},children:[e.jsx(h,{children:e.jsx(C,{})}),e.jsx(m,{primary:"Sair"})]})]})]})}),e.jsx(i,{sx:{width:"100%",bgcolor:s=>s.palette.mode==="light"?"#f7f9fb":l("#ffffff",.03),py:0,height:"calc(100dvh - 72px)",overflow:"hidden"},children:e.jsx(P,{maxWidth:"sm",sx:{px:{xs:2,sm:3},height:"100%"},children:e.jsx(i,{sx:{display:"grid",placeItems:"center",height:"100%"},children:e.jsxs("form",{onSubmit:Y,className:"card login-card narrow space-y-2",children:[e.jsx("div",{style:{textAlign:"center"},children:e.jsx("img",{src:q,alt:"Sol Online",style:{height:42,width:"auto"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:"card-title",style:{textAlign:"center",fontSize:26},children:"Criar usu√°rio"}),e.jsxs("div",{className:"muted",style:{textAlign:"center"},children:["Logado como: ",r==null?void 0:r.name]})]}),L&&e.jsx("div",{style:{textAlign:"center"},children:e.jsx("span",{className:"badge badge-success",children:L})}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Nome *"}),e.jsx("input",{className:"input",value:k,onChange:s=>A(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email *"}),e.jsx("input",{className:"input",type:"email",value:N,onChange:s=>I(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Senha *"}),e.jsxs("div",{className:"input-wrap",children:[e.jsx("input",{className:"input suffix-pad",type:T?"text":"password",value:S,onChange:s=>M(s.target.value),required:!0}),e.jsx("button",{type:"button",className:"input-icon-btn",onClick:()=>E(s=>!s),title:T?"Ocultar":"Mostrar",children:"üëÅÔ∏è"})]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:W,onChange:s=>B(s.target.checked)})," Administrador"]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-primary btn-block",type:"submit",children:"Criar Usu√°rio"})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(c,{className:"link",to:"/movimentacao",children:"Voltar"})})]})})})})]})}export{ee as default};
